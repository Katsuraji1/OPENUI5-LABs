sap.ui.define(["zjblessons/Worklist/controller/BaseController","sap/ui/core/routing/History","sap/ui/model/json/JSONModel","zjblessons/Worklist/model/formatter"],function(t,e,s,o){"use strict";return t.extend("zjblessons.Worklist.controller.List",{formatter:o,onInit:function(){var t=this.byId("list"),e=t.getBusyIndicatorDelay(),o=new s({delay:0,busy:true});this.getRouter().getRoute("list").attachPatternMatched(this._onObjectMatched,this);e=this.getView().setBusyIndicatorDelay(0);this.setModel(o,"listView");this.getOwnerComponent().getModel().metadataLoaded().then(function(){o.setProperty("/delay",e)});t.attachEventOnce("updateFinished",function(){this.getModel("listView").setProperty("/busy",false)})},onNavBack:function(){const t=e.getInstance().getPreviousHash();if(t!==undefined){history.go(-1)}else{this.getRouter().navTo("worklist",{},true)}},_onObjectMatched:function(){try{this.getModel().read("/zjblessons_base_Materials",{success:t=>{this._setListData(t)},error:t=>{new sap.m.MessageToast.show(t.message)}})}catch(t){debugger;new sap.m.MessageToast.show(t.toString())}finally{}},_setListData:function(t){const e=this.getView().byId("list");var s=new sap.ui.model.json.JSONModel;s.setData(t);e.setModel(s);e.bindItems({path:"/results",template:new sap.m.StandardListItem({title:"{MaterialText}",description:"{MaterialDescription}"})})}})});
//# sourceMappingURL=List.controller.js.map